<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tableau des mesures</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', sans-serif; background: #f0f4f8; padding: 24px; color: #1a202c; }
  .container { max-width: 1100px; margin: 0 auto; }
  h2 { font-size: 1.4rem; font-weight: 700; margin-bottom: 16px; color: #2d3748; }

  .controls { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 12px; }
  .search-box {
    flex: 1; min-width: 220px; padding: 9px 14px;
    border: 1.5px solid #cbd5e0; border-radius: 8px;
    font-size: 0.88rem; outline: none; transition: border 0.2s;
  }
  .search-box:focus { border-color: #667eea; }
  select {
    padding: 9px 14px; border: 1.5px solid #cbd5e0;
    border-radius: 8px; font-size: 0.88rem; background: white;
    outline: none; cursor: pointer; transition: border 0.2s;
  }
  select:focus { border-color: #667eea; }
  .reset-btn {
    padding: 9px 16px; background: #667eea; color: white;
    border: none; border-radius: 8px; font-size: 0.88rem;
    cursor: pointer; transition: background 0.2s;
  }
  .reset-btn:hover { background: #5a67d8; }

  .info-bar { font-size: 0.82rem; color: #718096; margin-bottom: 10px; }

  .table-wrapper {
    background: white; border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08); overflow: hidden;
  }
  table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
  thead { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
  th {
    padding: 12px 14px; text-align: left;
    cursor: pointer; user-select: none; white-space: nowrap;
  }
  th:hover { background: rgba(255,255,255,0.15); }
  th .sort-icon { margin-left: 5px; opacity: 0.6; font-size: 0.72rem; }
  th.asc .sort-icon::after { content: '‚ñ≤'; }
  th.desc .sort-icon::after { content: '‚ñº'; }
  th:not(.asc):not(.desc) .sort-icon::after { content: '‚áÖ'; }

  tbody tr { border-bottom: 1px solid #edf2f7; transition: background 0.15s; }
  tbody tr:last-child { border-bottom: none; }
  tbody tr:hover { background: #f7f8ff; }
  td { padding: 11px 14px; vertical-align: top; }
  td.mesure-cell { max-width: 420px; line-height: 1.45; }

  .badge {
    display: inline-block; padding: 3px 9px;
    border-radius: 20px; font-size: 0.75rem; font-weight: 600;
    white-space: nowrap; margin: 2px 2px 2px 0;
  }
  /* Types */
  .badge-plan { background: #bee3f8; color: #2a69ac; }
  .badge-inter { background: #c6f6d5; color: #276749; }
  .badge-appui { background: #fefcbf; color: #744210; }

  /* Cat√©gories */
  .badge-hab { background: #fed7e2; color: #97266d; }
  .badge-dest { background: #e9d8fd; color: #553c9a; }
  .badge-mob { background: #feebc8; color: #7b341e; }

  /* Paliers */
  .badge-mun { background: #e2e8f0; color: #4a5568; }
  .badge-mrc { background: #d6bcfa; color: #553c9a; }

  .no-results { text-align: center; padding: 32px; color: #a0aec0; }
</style>
</head>
<body>
<div class="container">
  <h2>üìã Mesures pour des milieux de vie de qualit√©</h2>
  <div class="controls">
    <input class="search-box" id="search" type="text" placeholder="üîç Rechercher dans les mesures‚Ä¶">
    <select id="filter-type">
      <option value="">Tous les types</option>
      <option>Planification et r√©glementation</option>
      <option>Interventions directes</option>
      <option>Appui d'initiatives</option>
    </select>
    <select id="filter-cat">
      <option value="">Toutes les cat√©gories</option>
      <option>Habitation</option>
      <option>Destinations</option>
      <option>Mobilit√©</option>
    </select>
    <select id="filter-palier">
      <option value="">Tous les paliers</option>
      <option>Municipalit√©</option>
      <option>MRC</option>
    </select>
    <button class="reset-btn" onclick="reset()">R√©initialiser</button>
  </div>
  <div class="info-bar" id="info-bar"></div>
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th onclick="sortTable(0)">Mesure <span class="sort-icon"></span></th>
          <th onclick="sortTable(1)">Type <span class="sort-icon"></span></th>
          <th onclick="sortTable(2)">Cat√©gorie <span class="sort-icon"></span></th>
          <th onclick="sortTable(3)">Palier <span class="sort-icon"></span></th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
    <div class="no-results" id="no-results" style="display:none">Aucun r√©sultat trouv√©.</div>
  </div>
</div>

<script>
const raw = [
  ["R√©aliser un portrait du parc de logements (en analysant notamment la diversit√© de taille, le mode d'occupation, l'offre de logements √† but non lucratif, et le taux d'inoccupation) pour identifier, dans les documents de planification, les secteurs o√π l'offre doit √™tre am√©lior√©e en priorit√©.","Planification et r√©glementation","Habitation","Municipalit√©, MRC"],
  ["Se doter d'une politique d'habitation avec des objectifs et des cibles pour diversifier l'offre de logements (en mati√®re de taille notamment) et augmenter l'abordabilit√© (offre g√©n√©rale et de logements √† but non lucratifs).","Planification et r√©glementation","Habitation","Municipalit√©, MRC"],
  ["Se doter d'outils r√©glementaires permettant de diversifier l'offre de logements (p. ex. r√®glement pour am√©liorer l'offre de logements abordables, sociaux ou familiaux, zonage diff√©renci√©, zonage incitatif).","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Utiliser la ma√Ætrise fonci√®re et d'ouvrage via des appels √† projets pour les terrains publics municipaux incluant des crit√®res et obligations destin√©s √† augmenter l'offre, la diversit√© et l'abordabilit√©.","Interventions directes","Habitation","Municipalit√©, MRC"],
  ["Soutenir les projets d'habitation √† but non lucratif qui contribuent √† la diversit√© de l'offre r√©sidentielle (p. ex. subvention financi√®re, exemption ou cr√©dit de taxes).","Appui d'initiatives","Habitation","Municipalit√©, MRC"],
  ["Se doter d'outils r√©glementaires visant √† conserver le parc de logements locatifs en encadrant notamment la transformation des immeubles locatifs en copropri√©t√©s divises, et location touristique.","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Se doter d'un service d'aide √† la recherche de logement (SARL) pour accompagner les m√©nages.","Interventions directes","Habitation","Municipalit√©"],
  ["Adopter un programme d'aide visant √† favoriser la construction ou l'am√©nagement de logements locatifs.","Appui d'initiatives","Habitation","Municipalit√©, MRC"],
  ["Modifier la r√©glementation d'urbanisme de mani√®re √† favoriser la densification et la consolidation (p. ex. ajout d'unit√©s d'habitation accessoires, autorisation de formes plus denses, r√©duction des marges des tailles minimales des lots, et des exigences de stationnement).","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Augmenter la densit√© permise dans les milieux de vie consid√©r√©s comme complets ou ayant un fort potentiel de le devenir, particuli√®rement ceux situ√©s au sein ou √† proximit√© des centralit√©s et le long des axes structurants de transport en commun.","Planification et r√©glementation","Mobilit√©, Habitation","Municipalit√©, MRC"],
  ["Faire l'acquisition (p. ex. gr√¢ce au droit de pr√©emption) de terrains propices au red√©veloppement et strat√©giquement localis√©s (p. ex. friche industrielle, b√¢timents vacants sur une rue commerciale).","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Planifier la mise √† niveau des r√©seaux d'aqueduc et d'√©gout pour r√©pondre aux besoins de l'ajout de nouveaux logements.","Interventions directes","Habitation","Municipalit√©"],
  ["Mettre en place une taxation suppl√©mentaire des terrains sous-d√©velopp√©s (p. ex. grands espaces de stationnement et terrains vacants) dans les centralit√©s et √† proximit√©.","Planification et r√©glementation","Habitation, Destinations","Municipalit√©"],
  ["Identifier les terrains et immeubles vacants ou sous-utilis√©s (publics ou priv√©s) pr√©sentant un potentiel d'√™tre transform√©s pour accueillir des logements.","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Se doter d'outils r√©glementaires permettant d'augmenter l'offre de logements √† but non lucratifs (p. ex. r√©glementation sur l'inclusion de logements abordables, zonage diff√©renci√©, zonage incitatif).","Planification et r√©glementation","Habitation","Municipalit√©"],
  ["Soutenir l'√©mergence de formules innovantes d'habitation (p. ex. autopromotion, cohabitat, coop√©rative de solidarit√©).","Planification et r√©glementation","Habitation","Municipalit√©, MRC"],
  ["Soutenir les initiatives communautaires r√©pondant aux besoins de base de la population (p. ex. en alimentation, √©ducation, socialisation) par du financement ou un soutien logistique.","Appui d'initiatives","Destinations","Municipalit√©, MRC"],
  ["Soutenir l'implantation et le maintien de destinations du quotidien (p. ex. commerce alimentaire, service de soin, tiers-lieu, CPE) dans les centralit√©s.","Appui d'initiatives","Destinations","Municipalit√©"],
  ["R√©aliser un portrait des destinations locales et identifier, dans les documents de planification, les secteurs o√π l'offre doit √™tre bonifi√©e (commerces alimentaires, services de garde, √©tablissements scolaires, espaces naturels, √©quipements de culture et de loisirs, ressources en sant√©).","Planification et r√©glementation","Destinations","Municipalit√©, MRC"],
  ["Modifier la r√©glementation d'urbanisme de mani√®re √† limiter les d√©serts alimentaires (p. ex. autoriser les commerces alimentaires de petite superficie dans les zones r√©sidentielles, limiter la superficie des commerces alimentaires, limiter l'implantation des √©tablissements de restauration rapide).","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Faciliter l'agriculture urbaine en l'autorisant dans la r√©glementation, en offrant des espaces pour des jardins communautaires ou collectifs ou en int√©grant des plantes comestibles dans les am√©nagements publics.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Se doter d'une politique d'accessibilit√© universelle, accompagn√© d'un programme pour soutenir l'adaptation des lieux et des b√¢timents accueillant du public.","Appui d'initiatives","Destinations, Mobilit√©","Municipalit√©, MRC"],
  ["Se doter d'une politique alimentaire et identifier des actions prioritaires pour am√©liorer l'offre alimentaire de proximit√©.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Planifier une r√©partition √©quitable des √©quipements et services publics et parapublics (√©coles, services de garde, parcs et √©quipements culturels) sur le territoire.","Planification et r√©glementation","Destinations","Municipalit√©, MRC"],
  ["Privil√©gier l'implantation des destinations du quotidien et des g√©n√©rateurs de d√©placements dans les centralit√©s, ainsi qu'√† proximit√© des services publics et du transport en commun.","Planification et r√©glementation","Destinations, Mobilit√©","Municipalit√©, MRC"],
  ["Planifier et prioriser les interventions pour s√©curiser le r√©seau actif en fonction des risques et de la proximit√© de personnes en situation de vuln√©rabilit√© (p. ex. √©coles, parcs, services de soins).","Interventions directes","Destinations, Mobilit√©","Municipalit√©"],
  ["Autoriser certaines activit√©s de proximit√© (p. ex. service de garde, clinique m√©dicale, pharmacie) dans les zones r√©sidentielles, ainsi qu'en tant qu'usage compl√©mentaire pour les immeubles multilogements.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Planifier l'acquisition de terrains et la construction des √©coles sur des emplacements au c≈ìur des milieux de vie, particuli√®rement lors de la cr√©ation ou de la consolidation d'un quartier.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Accorder une plus grande place √† la v√©g√©tation dans les milieux de vie (p. ex. augmentation de la canop√©e, int√©gration d'infrastructures naturelles, d√©min√©ralisation de terrains priv√©s).","Interventions directes","Destinations","Municipalit√©"],
  ["R√©aliser des ententes de type ¬´parc-√©cole¬ª et soutenir la d√©min√©ralisation et le verdissement des terrains scolaires.","Interventions directes","Destinations","Municipalit√©"],
  ["Exiger une contribution pour fins de parc lors d'une demande de permis de lotissement ou de construction.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Am√©nager des acc√®s publics balis√©s et bien identifi√©s aux principaux plans d'eau de la municipalit√© (p. ex. sentiers, plages).","Interventions directes","Destinations","Municipalit√©"],
  ["R√©aliser un portrait des espaces publics (ou accessibles au public) pour identifier les lacunes dans leur am√©nagement et en planifier le r√©am√©nagement pour en accro√Ætre la qualit√©, l'appropriabilit√© et l'inclusivit√©.","Planification et r√©glementation","Destinations, Mobilit√©","Municipalit√©"],
  ["Assurer la pr√©sence d'installations sanitaires accessibles dans les lieux fr√©quent√©s par le public.","Interventions directes","Destinations","Municipalit√©"],
  ["Autoriser et encourager la mixit√© d'activit√©s dans les √©quipements publics (p. ex. une biblioth√®que avec caf√©, des salles partag√©es entre organismes) et le partage de locaux institutionnels.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Augmenter l'offre en espaces publics appropriables (p. ex. cr√©ation de nouveaux espaces sur les terrains municipaux, remplacement de stationnement par des placettes, pi√©tonnisation temporaire, saisonni√®re ou permanente).","Interventions directes","Destinations","Municipalit√©"],
  ["Augmenter l'offre d'activit√©s d'animation de l'espace public (p. ex. √©v√©nements communautaires, activit√©s culturelles, ventes de rue) en collaboration avec les organismes et les artistes du milieu.","Appui d'initiatives","Destinations","Municipalit√©"],
  ["Am√©liorer la qualit√© de l'espace public sur les rues commerciales afin d'attirer des commerces et d'inciter les investissements priv√©s (p. ex. v√©g√©tation, mobilier, terrasses).","Planification et r√©glementation","Destinations, Mobilit√©","Municipalit√©"],
  ["Renforcer les centralit√©s en y concentrant les activit√©s compatibles (habitations, commerces, bureaux et √©quipements publics), entre autres via des programmes incitatifs pour les nouvelles implantations.","Planification et r√©glementation","Destinations","Municipalit√©"],
  ["Se doter d'un registre des locaux commerciaux qui inclut leur statut d'occupation afin de suivre et d'encourager leur occupation.","Interventions directes","Destinations","Municipalit√©, MRC"],
  ["Optimiser la gestion du stationnement public (sur et hors rue) par la r√©glementation et la tarification, de mani√®re √† assurer un roulement favorable √† la client√®le.","Interventions directes","Destinations","Municipalit√©"],
  ["R√©habiliter les terrains contamin√©s dans les secteurs √† consolider (p. ex. centre-ville, secteur propice √† la consolidation).","Interventions directes","Habitation, Destinations","Municipalit√©"],
  ["R√©duire la vitesse autoris√©e √† 30 km/h sur les voies locales.","Planification et r√©glementation","Mobilit√©","Municipalit√©"],
  ["Planifier et am√©nager les r√©seaux cyclable et pi√©tonnier en tenant compte du r√¥le des rues dans la trame (p. ex. d√©ploiement prioritaire sur les voies structurantes, mesures de gestion de la circulation automobile).","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Assurer un entretien prioritaire des r√©seaux pi√©tonnier et cyclable et des voies emprunt√©es par le transport en commun, particuli√®rement en hiver.","Interventions directes","Mobilit√©","Municipalit√©, MRC"],
  ["Se doter d'un plan de mobilit√© active ou d'un plan directeur des r√©seaux pi√©tonnier et cyclable incluant un diagnostic et des mesures de bonification des r√©seaux.","Planification et r√©glementation","Mobilit√©","Municipalit√©, MRC"],
  ["Am√©nager les intersections de mani√®re √† s√©curiser la travers√©e des personnes qui se d√©placent √† pied ou √† v√©lo (p. ex. trottoirs traversants, intersections prot√©g√©es, feux avec phase pi√©tonni√®re exclusive).","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Am√©liorer l'accessibilit√© universelle des b√¢timents et des espaces publics, en assurant notamment des parcours continus, sans obstacles, sur des trottoirs larges et adapt√©s pour les personnes √† mobilit√© r√©duite.","Interventions directes","Mobilit√©","Municipalit√©"],
  ["D√©velopper un guide de conception des rues pour assurer la coh√©rence des am√©nagements (pi√©tonniers, cyclables et d'infrastructures vertes) selon les diff√©rents types de voies.","Planification et r√©glementation","Mobilit√©","Municipalit√©"],
  ["Assurer la pr√©sence de trottoirs de bonne qualit√© et de largeur suffisante, particuli√®rement sur les voies structurantes en fonction de leur trac√© et des destinations qu'elles desservent.","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Privil√©gier les pistes cyclables larges et s√©par√©es de la chauss√©e et des am√©nagements pi√©tonniers pour plus de s√©curit√©. Pr√©f√©rer les pistes unidirectionnelles.","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Augmenter l'offre de stationnement pour v√©los dans les projets immobiliers, pour les commerces et sur l'espace public (conversion de cases de stationnement pour automobiles).","Planification et r√©glementation","Mobilit√©","Municipalit√©"],
  ["Profiter de la r√©fection des rues pour r√©duire la largeur des chauss√©es et implanter des am√©nagements pi√©tonniers et cyclables, ainsi que des infrastructures vertes.","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Offrir des informations directionnelles pour les destinations cl√©s avec des indications de distance pour faciliter l'orientation des cyclistes et des pi√©tons.","Interventions directes","Mobilit√©, Destinations","Municipalit√©"],
  ["R√©aliser un portrait de la mobilit√© pour identifier les forces et les lacunes en mati√®re d'infrastructures et de services (r√©seaux de mobilit√© active et de transport en commun, conditions de s√©curit√©, services de mobilit√© partag√©e).","Planification et r√©glementation","Mobilit√©","Municipalit√©, MRC"],
  ["Se doter d'un plan de mobilit√© durable destin√© √† am√©liorer l'offre en mati√®re de transport collectif et de mobilit√© partag√©e.","","Mobilit√©","Municipalit√©"],
  ["Planifier des p√¥les d'√©changes intermodaux dans les c≈ìurs de collectivit√© ou pr√®s des concentrations d'activit√©s et assurer une bonne interconnexion entre les diff√©rents r√©seaux de transport en commun.","Planification et r√©glementation","Mobilit√©","Municipalit√©, MRC"],
  ["R√©viser la r√©glementation en mati√®re de stationnement (p. ex. abolition ou r√©duction des exigences, imposition de normes maximales √† proximit√© du transport en commun).","Planification et r√©glementation","Mobilit√©, Habitation","Municipalit√©"],
  ["D√©velopper et soutenir une offre de transport collectif compl√©mentaire ou palliative au transport en commun (p. ex. transport √† la demande, transport interurbain, transport b√©n√©vole, navettes pour travailleurs, covoiturage).","Appui d'initiatives","Mobilit√©","Municipalit√©, MRC"],
  ["Planifier le prolongement du r√©seau de transport en commun en priorisant la desserte des concentrations d'activit√©s peu ou mal desservies.","Planification et r√©glementation","Mobilit√©","Municipalit√©, MRC"],
  ["Mettre en place des mesures pr√©f√©rentielles pour les bus (p. ex. voies r√©serv√©es, priorit√© aux feux de circulation, localisation des arr√™ts).","Interventions directes","Mobilit√©","Municipalit√©"],
  ["Utiliser le stationnement comme levier pour stimuler le d√©veloppement de l'autopartage (p. ex. exigence de cases d√©di√©es dans des projets immobiliers majeurs).","Planification et r√©glementation","Mobilit√©","Municipalit√©"],
  ["Soutenir les initiatives d'autopartage priv√©es ou communautaires sur le territoire.","Interventions directes","Mobilit√©","Municipalit√©, MRC"],
  ["D√©ployer un syst√®me de v√©los en libre-service.","Interventions directes","Mobilit√©","Municipalit√©"],
];

let sortCol = -1, sortDir = 1;

function typeBadge(t) {
  if (!t) return '';
  const cls = t.includes('Planification') ? 'badge-plan' : t.includes('Interventions') ? 'badge-inter' : 'badge-appui';
  const label = t.includes('Planification') ? 'Planification & r√©gl.' : t.includes('Interventions') ? 'Interventions directes' : 'Appui d\'initiatives';
  return `<span class="badge ${cls}">${label}</span>`;
}

function catBadges(c) {
  if (!c) return '';
  return c.split(',').map(s => {
    s = s.trim();
    const cls = s === 'Habitation' ? 'badge-hab' : s === 'Destinations' ? 'badge-dest' : 'badge-mob';
    return `<span class="badge ${cls}">${s}</span>`;
  }).join(' ');
}

function palierBadges(p) {
  if (!p) return '';
  return p.split(',').map(s => {
    s = s.trim();
    const cls = s === 'MRC' ? 'badge-mrc' : 'badge-mun';
    return `<span class="badge ${cls}">${s}</span>`;
  }).join(' ');
}

function render() {
  const q = document.getElementById('search').value.toLowerCase();
  const fType = document.getElementById('filter-type').value;
  const fCat = document.getElementById('filter-cat').value;
  const fPalier = document.getElementById('filter-palier').value;

  let rows = raw.filter(r => {
    const textMatch = r[0].toLowerCase().includes(q) || r[1].toLowerCase().includes(q) || r[2].toLowerCase().includes(q);
    const typeOk = !fType || r[1] === fType;
    const catOk = !fCat || r[2].includes(fCat);
    const palierOk = !fPalier || r[3].includes(fPalier);
    return textMatch && typeOk && catOk && palierOk;
  });

  if (sortCol >= 0) {
    rows.sort((a, b) => a[sortCol].localeCompare(b[sortCol], 'fr') * sortDir);
  }

  const tbody = document.getElementById('tbody');
  tbody.innerHTML = rows.map(r =>
    `<tr>
      <td class="mesure-cell">${r[0]}</td>
      <td>${typeBadge(r[1])}</td>
      <td>${catBadges(r[2])}</td>
      <td>${palierBadges(r[3])}</td>
    </tr>`
  ).join('');

  document.getElementById('no-results').style.display = rows.length ? 'none' : 'block';
  document.getElementById('info-bar').textContent = `${rows.length} mesure(s) affich√©e(s) sur ${raw.length}`;
}

function sortTable(col) {
  document.querySelectorAll('th').forEach((th, i) => th.classList.remove('asc','desc'));
  if (sortCol === col) sortDir *= -1; else { sortCol = col; sortDir = 1; }
  document.querySelectorAll('th')[col].classList.add(sortDir === 1 ? 'asc' : 'desc');
  render();
}

function reset() {
  document.getElementById('search').value = '';
  document.getElementById('filter-type').value = '';
  document.getElementById('filter-cat').value = '';
  document.getElementById('filter-palier').value = '';
  sortCol = -1; sortDir = 1;
  document.querySelectorAll('th').forEach(th => th.classList.remove('asc','desc'));
  render();
}

['search','filter-type','filter-cat','filter-palier'].forEach(id =>
  document.getElementById(id).addEventListener('input', render)
);
render();
</script>
</body>
</html>
